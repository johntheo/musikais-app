<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>Musikais APP</title>

        <!-- Bootstrap core CSS -->
        <link href="css/bootstrap.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href="css/main.css" rel="stylesheet">
        <link href="css/font-awesome.min.css" rel="stylesheet">

        <script src="js/jquery-1.10.2.min.js"></script>
        <script src="js/chart.js"></script>
        <script>
            var page = document.getElementById('page'),
                ua = navigator.userAgent,
                iphone = ~ua.indexOf('iPhone') || ~ua.indexOf('iPod'),
                ipad = ~ua.indexOf('iPad'),
                ios = iphone || ipad,
                // Detect if this is running as a fullscreen app from the homescreen
                fullscreen = window.navigator.standalone,
                android = ~ua.indexOf('Android'),
                lastWidth = 0;
             
            if (android) {
              // Android's browser adds the scroll position to the innerHeight, just to
              // make this really fucking difficult. Thus, once we are scrolled, the
              // page height value needs to be corrected in case the page is loaded
              // when already scrolled down. The pageYOffset is of no use, since it always
              // returns 0 while the address bar is displayed.
              window.onscroll = function() {
                page.style.height = window.innerHeight + 'px'
              } 
            }
            var setupScroll = window.onload = function() {
              // Start out by adding the height of the location bar to the width, so that
              // we can scroll past it
              if (ios) {
                // iOS reliably returns the innerWindow size for documentElement.clientHeight
                // but window.innerHeight is sometimes the wrong value after rotating
                // the orientation
                var height = document.documentElement.clientHeight;
                // Only add extra padding to the height on iphone / ipod, since the ipad
                // browser doesn't scroll off the location bar.
                if (iphone && !fullscreen) height += 60;
                page.style.height = height + 'px';
              } else if (android) {
                // The stock Android browser has a location bar height of 56 pixels, but
                // this very likely could be broken in other Android browsers.
                page.style.height = (window.innerHeight + 56) + 'px'
              }
              // Scroll after a timeout, since iOS will scroll to the top of the page
              // after it fires the onload event
              setTimeout(scrollTo, 0, 0, 1);
            };
            (window.onresize = function() {
              var pageWidth = page.offsetWidth;
              // Android doesn't support orientation change, so check for when the width
              // changes to figure out when the orientation changes
              if (lastWidth == pageWidth) return;
              lastWidth = pageWidth;
              setupScroll();
            })();
            </script>
        <script>
        $(document).ready(function(){
            $("button").click(function(){
                $.ajax({
                    url: "http://servidor-musikais.rhcloud.com/recommendation/get/10/10"
                }).then(function(data, status, jqxhr) {
                   //changeAudio(data.musicName);
                   var element = document.getElementById('info2');
                   var link = 'http://musikais.com/music/' + data.musicName;
                   element.innerHTML = 'Musica: '  + link;


                    var audio = document.getElementById("player");
                    audio.setAttribute("src", link)      
                    audio.pause();
                    audio.load();//suspends and restores all audio element
                    audio.play();
                   console.log(jqxhr);
                });
            });
        });
        </script>
    </head>
    <body>
        <!-- Fixed navbar -->
        <div class="navbar navbar-default navbar-fixed-top">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#"><i class="fa fa-music"></i></a>
              <h3 class="navbar-text">Musikais</h3>
            </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav navbar-right">
                <li class="active"><a href="#contact">Contato</a></li>
              </ul>
            </div><!--/.nav-collapse -->
          </div>
        </div>

        
        <div class="container">
            <div class="row">
                <div id="map"></div>
            </div>
        </div>
    
        <div class="container">
            <div class="row centered">
                <button id="play" type="button" class="btn btn-theme2 btn-lg btn-block" style="font-size: 52px;">
                    <i class="fa fa-play"></i>
                </button>
            </div>
        </div>

        <div id="green">
            <div class="container">
                    <div class="row centered">
                        <div class="btn-group">
                            <button type="button" class="btn btn-theme btn-lg">
                                <i class="fa fa-thumbs-up"></i>
                            </button>
                            <button type="button" class="btn btn-theme btn-lg">
                                <i class="fa fa-thumbs-down"></i>
                            </button>
                        </div>  
                    </div>
            </div>
        </div>
                  
        <div class="container">
            <div class="row centered" style="margin-bottom:0px;">
                <p id="info"></p>
            </div>
        </div>

        <div class="container">
            <div class="row centered" style="margin-bottom:0px;">
                <p id="info2"></p>
            </div>
        </div>

        <audio id="player" src="" controls="controls" autoplay></audio>

        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/geoloc.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBH--D1t04veDYC6s1vTH5JYOjKP0SqERw"> </script>
    </body>
</html>